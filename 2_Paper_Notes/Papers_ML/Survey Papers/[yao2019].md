# ADMM-based problem decomposition scheme for vehicle routing problem with time windows

## Metadata
- **Link to PDF**: [[[yao2019]_ADMM-based_problem_decomposition_scheme_for_vehicle_routing_problem_with_time_windows.pdf]]
- **Tags**:
  - #DeterministicVRP
  - #VRPTW
  - #TimeWindowConstraints
  - #MultiVehicleRouting
  - #HeuristicOrExactBlends
  - #Symmetry
  - #LargeScaleVRP
  - #RealWorldData
  - #AlgorithmSelection
  - #ADMM
- **Relevant**: false  
- **Fit Score**: 2  
- **State of the Art (SoA) Concepts**:
  - ADMM-based decomposition for VRP
  - Hyper-dimensional network flow formulation
  - Lagrangian-based bounding (lower bound, upper bound)
  - Time-window constrained VRP
  - Large-scale problem implementation details
- **Performance Evaluation**: yes  
- **Performance Evaluation Framework**: Solomon VRPTW benchmarks; a real-world Beijing-based dataset

## Abstract
"Emerging urban logistics applications need to address various challenges, including complex traffic conditions and time-sensitive requirements. In this study, in the context of urban logistics, we consider a vehicle routing problem with time-dependent travel times and time windows (VRPTW), and the goal is to minimize the total generalized costs including the transportation, waiting time, and fixed costs associated with each vehicle. We adopt a high-dimensional space-time network flow model to formulate an underlying vehicle routing problem (VRP) with a rich set of criteria and constraints. A difficult issue, when solving VRPs, is how to iteratively improve both the primal and dual solution quality in general and how to break the symmetry generated by many identical solutions, particularly with homogeneous vehicles. Along this line, many coupling constraints, such as the consensus constraints across different agents or decision makers, need to be carefully addressed to find high-quality optimal or close-to-optimal solutions under medium- or large-scale instances. Currently, the alternating direction method of multipliers (ADMM) is widely used in the field of convex optimization, as an integration of the augmented Lagrangian relaxation and block coordinate descent methods, for machine learning and large-scale continuous systems optimization and control. In this work, we introduce the use of ADMM to solve the multi-VRP, which is a special case of integer linear programming, and demonstrate a manner to reduce the quadratic penalty terms used in ADMM into simple linear functions. In a broader context, a computationally reliable decomposition framework is developed to iteratively improve both the primal and dual solution quality. Essentially, the least-cost path subproblem or other similar subproblems involving binary decisions can be embedded into a sequential solution scheme with an output of both lower bound estimates and upper bound feasible solutions. We examine the performance of the proposed approach using classical Solomon VRP benchmark instances. We also evaluate our approach on a real-world instance based on a problem-solving competition by Jingdong Logistics, a major E-commerce company."

## Summary
- **Context & Motivation**  
  - Focuses on solving the Vehicle Routing Problem with Time Windows (VRPTW) in urban logistics settings with time-dependent travel times.  
  - Seeks a method that improves route feasibility and solution quality while breaking symmetry among homogeneous vehicles.  

- **Core Contributions**  
  - Proposes an ADMM-based (Alternating Direction Method of Multipliers) decomposition scheme to split the original multi-VRP problem into easier subproblems.  
  - Introduces a high-dimensional state-space-time network flow formulation, embedding time windows and vehicle capacity directly in the network.  
  - Demonstrates a mechanism to linearize the quadratic penalty terms arising in ADMM, exploiting binary decision variables so that \(\mathbf{x}^2 = \mathbf{x}\).  

- **Methodology**  
  - Transforms the VRPTW into a large-scale integer linear program, then applies Lagrangian relaxation to the request-satisfaction constraints.  
  - Augments the Lagrangian function to form an ADMM-based objective, enabling iterative updates on primal (vehicle routes) and dual (multipliers) variables.  
  - Decomposition: each vehicleâ€™s routing subproblem is solved individually as a dynamic programming (DP) least-cost path problem, incorporating modified cost terms that reflect updated multipliers and penalty parameters.  
  - Presents a step-by-step procedure:  
    1. Initialize multipliers and penalty parameter.  
    2. Solve each vehicle subproblem sequentially in a Gauss-Seidel fashion.  
    3. Update multipliers, adjust penalty parameter.  
    4. Generate feasible solutions for the primal VRPTW and compute upper bounds.  
    5. Solve a pure Lagrangian version (without the augmented penalty) to compute lower bounds.  
    6. Evaluate gap and iterate.  

- **Experiments & Results**  
  - Tested on classical Solomon benchmark instances (C101, R101, RC101 with 25, 50, and 100 customers).  
  - Compared ADMM-based solution with a standard Lagrangian relaxation approach.  
  - ADMM overcame key symmetry issues and produced improved lower bounds in certain large-scale scenarios.  
  - Computational times varied, but ADMM typically delivered better upper-bound solutions (closer to best-known references).  
  - Real-world test data from Jingdong Logistics in Beijing further demonstrated applicability for 100-customer distributions, resulting in consistent feasible solutions with modest optimality gaps (~5%).  

- **Key Insights & Strengths**  
  - The augmented Lagrangian scheme (ADMM) mitigates symmetrical route duplication, often encountered in Lagrangian-based VRPs with many identical vehicles.  
  - The linearization trick for the quadratic penalty term simplifies the subproblem.  
  - Produces both feasible solutions (upper bound) and strong lower bounds, offering a measure of solution quality.  

- **Limitations & Outlook**  
  - ADMM for multi-block, nonconvex integer problems lacks rigorous convergence guarantees; authors treat it as a heuristic or improved subgradient method.  
  - Performance depends on good tuning of penalty parameters; the approach may converge slowly or become stuck.  
  - Future work includes embedding a branching procedure or advanced bounding strategies to ensure provable global optimality, as well as exploring additional real-world constraints (e.g., multi-depot operations).  

- **Relevance to Deterministic VRP & ML**  
  - Although the VRP is deterministic, the approach is purely optimization-based (ADMM, dynamic programming) and not an ML technique.  
  - Therefore, it is outside the scope of machine learning-based VRP research. 