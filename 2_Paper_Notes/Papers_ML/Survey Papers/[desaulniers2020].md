# Machine-learning-based Column Selection for Column Generation

## Metadata
- **Link to PDF**: [[[desaulniers2020]_Machine-learning-based_column_selection_for_column_generation.pdf]]
- **Tags**:
  - #ML-SupervisedFromOptimal
  - #GraphNeuralNetworks
  - #NeuralCombinatorialOptimization
  - #ML-AssistedExact
  - #ColumnGenerationHeuristics
  - #VRPTW
  - #DeterministicVRP
  - #LargeScaleVRP
  - #TimeWindowConstraints
  - #HeuristicOrExactBlends
- **Relevant**: true  
- **Fit Score**: 9  
- **State of the Art (SoA) Concepts**:
  - Graph neural networks for column selection
  - Supervised learning from an MILP “expert”
  - Column generation for VRPTW and set partitioning models
  - Integration of ML into exact optimization
- **Performance Evaluation**: yes  
- **Performance Evaluation Framework**: Modified Gehring & Homberger instances (R2 class) for VRPTW

## Abstract
"Column generation (CG) is widely used for solving large-scale optimization problems. This article presents a new approach based on a machine learning (ML) technique to accelerate CG. This approach, called column selection, applies a learned model to select a subset of the variables (columns) generated at each iteration of CG. The goal is to reduce the computing time spent reoptimizing the restricted master problem at each iteration by selecting the most promising columns. The effectiveness of the approach is demonstrated on two problems: the vehicle and crew scheduling problem and the vehicle routing problem with time windows. The ML model was able to generalize to instances of different sizes, yielding a gain in computing time of up to 30%."

## Summary
- **Paper Scope & Goals**
  - Presents a new machine learning-based method to accelerate the column generation process in large-scale linear optimization problems, focusing on set-partitioning formulations.
  - Targets the Vehicle and Crew Scheduling Problem (VCSP) and the Vehicle Routing Problem with Time Windows (VRPTW) as illustrative use cases.

- **Key Contribution**
  - Proposes a “column selection” mechanism at each column generation (CG) iteration, deciding which newly generated columns should be added to the restricted master problem (RMP).
  - Uses supervised learning to mimic an “optimal” selection rule (derived from solving a small MILP that identifies the best subset of columns). The learned rule reduces the RMP’s size and degeneracy without sacrificing solution quality.
  - Demonstrates that a well-trained model can significantly shorten the time spent reoptimizing the RMP in each iteration, cutting total solution times by up to 20–30%.

- **ML Technique & Methodology**
  - Uses a **graph neural network (GNN)** to perform binary classification of columns:
    - Builds a bipartite graph where one set of nodes represents constraints (with dual information) and the other set represents columns. An edge links a column to each constraint it covers.
    - Learns node (column) embeddings by aggregating information from neighboring constraint nodes, capturing degenerate interactions in set-partitioning constraints.
    - The GNN outputs a probability of selection for each column, approximating whether adding that column improves the objective.
  - Training data are generated by running CG with a small MILP to identify the “best” columns at every iteration. These chosen columns serve as “expert labels” for supervised learning.

- **VRP Variant & Experiment Setup**
  - Applies the framework to two deterministic problems:
    1. **VCSP**: A single-depot bus scheduling/crew scheduling problem formulated as a set-partitioning model with additional resource constraints.
    2. **VRPTW**: A standard vehicle routing problem with time windows, solved via CG. Focuses on instances where the restricted master problem is computationally intensive.
  - For the VRPTW, uses modified Gehring & Homberger R2-class instances (reduced time-window widths) so that the RMP dominates the total runtime.  
  - Compares:
    - **No selection** (baseline CG adding all columns),
    - **MILP-based selection** (ideal but expensive),
    - **GNN-based selection** (fast approximation),
    - **Simple heuristics** (sorting by reduced cost, random selection) as baselines.

- **Results & Findings**
  - **VCSP**: Achieves up to ~30% faster total time when using GNN-based selection, with consistent gains in average RMP solve times.
  - **VRPTW**: Gains of ~20–30% speedups are reported, though a modest increase in iterations can occur due to some unselected columns.  
  - The GNN predictions are done quickly (tens of milliseconds per CG iteration), so the overall overhead is minimal.
  - The learned model generalizes to new problem instances with different sizes (e.g., training on 400-trip or 600-customer data, tested up to 800 trips/customers).

- **Strengths**
  - Demonstrates a clear synergy between an exact algorithm (column generation) and a learned heuristic to reduce degeneracy.
  - Uses a flexible GNN approach that handles variable instance sizes and constraints.
  - Keeps the overall method exact (the CG is not compromised) but reduces solution time significantly.

- **Weaknesses & Limitations**
  - Dependent on the availability of training data from smaller or similar instances, which requires solving the MILP-based selection or a comparable expert routine.
  - Focuses primarily on linear relaxation solutions (root node), so integer branch-and-price gains are implied but not deeply explored.
  - The approach is most beneficial only when RMP solve time is a major bottleneck; in many VRPTW instances, PP can dominate the runtime.

- **Relevance to Deterministic VRP ML Research**
  - Provides a strong demonstration of using supervised learning (GNN) to assist an exact CG-based VRP solver under deterministic conditions.
  - Illustrates how ML can mitigate degeneracy in set-partitioning models typical of VRPTW.
  - Showcases a potentially generalizable approach to reduce overhead in any large-scale VRP setting where degeneracy is problematic.